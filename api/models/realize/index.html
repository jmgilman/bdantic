
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.0">
    
    
      
        <title>realize - bdantic</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#realize" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="bdantic" class="md-header__button md-logo" aria-label="bdantic" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bdantic
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              realize
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="bdantic" class="md-nav__button md-logo" aria-label="bdantic" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    bdantic
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../parsing/" class="md-nav__link">
        Parsing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../exporting/" class="md-nav__link">
        Exporting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../rendering/" class="md-nav__link">
        Rendering
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../filtering/" class="md-nav__link">
        Filtering
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_1">
          models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="models" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../directives/" class="md-nav__link">
        directives
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../display/" class="md-nav__link">
        display
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../file/" class="md-nav__link">
        file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../query/" class="md-nav__link">
        query
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          realize
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        realize
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize" class="md-nav__link">
    bdantic.models.realize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize.Account" class="md-nav__link">
    Account
  </a>
  
    <nav class="md-nav" aria-label="Account">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.Account.from_real" class="md-nav__link">
    from_real()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.Account.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount" class="md-nav__link">
    RealAccount
  </a>
  
    <nav class="md-nav" aria-label="RealAccount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount.export" class="md-nav__link">
    export()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount.to_account" class="md-nav__link">
    to_account()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize.TxnPostings" class="md-nav__link">
    TxnPostings
  </a>
  
    <nav class="md-nav" aria-label="TxnPostings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.TxnPostings.export" class="md-nav__link">
    export()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.TxnPostings.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../parse/" class="md-nav__link">
        parse
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize" class="md-nav__link">
    bdantic.models.realize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize.Account" class="md-nav__link">
    Account
  </a>
  
    <nav class="md-nav" aria-label="Account">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.Account.from_real" class="md-nav__link">
    from_real()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.Account.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount" class="md-nav__link">
    RealAccount
  </a>
  
    <nav class="md-nav" aria-label="RealAccount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount.export" class="md-nav__link">
    export()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.RealAccount.to_account" class="md-nav__link">
    to_account()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdantic.models.realize.TxnPostings" class="md-nav__link">
    TxnPostings
  </a>
  
    <nav class="md-nav" aria-label="TxnPostings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.TxnPostings.export" class="md-nav__link">
    export()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bdantic.models.realize.TxnPostings.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="realize">Realize</h1>


  <div class="doc doc-object doc-module">

<a id="bdantic.models.realize"></a>
    <div class="doc doc-contents first">

      <p>Provides models for representing the results of running a realization.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h2 id="bdantic.models.realize.Account" class="doc doc-heading">
        <code>
Account            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents ">

      <p>A simplified view of an entire beancount account.</p>
<p>The primary differenece between this and a <code>RealAccount</code> is that it strips
out all children and provides some other useful data points like when the
account was opened or closed. Removing the children greatly reduces the
size of this model, especially when being rendered in something like JSON.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>balance</code></td>
        <td><code>Dict[str, bdantic.models.data.Inventory]</code></td>
        <td><p>A mapping of currencies to inventories.</p></td>
      </tr>
      <tr>
        <td><code>close</code></td>
        <td><code>Optional[datetime.date]</code></td>
        <td><p>The (optional) date the account was closed.</p></td>
      </tr>
      <tr>
        <td><code>directives</code></td>
        <td><code>TxnPostings</code></td>
        <td><p>All directives associated with this account.</p></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The account name.</p></td>
      </tr>
      <tr>
        <td><code>open</code></td>
        <td><code>date</code></td>
        <td><p>The date the account was opened.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Account</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A simplified view of an entire beancount account.</span>

<span class="sd">    The primary differenece between this and a `RealAccount` is that it strips</span>
<span class="sd">    out all children and provides some other useful data points like when the</span>
<span class="sd">    account was opened or closed. Removing the children greatly reduces the</span>
<span class="sd">    size of this model, especially when being rendered in something like JSON.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        balance: A mapping of currencies to inventories.</span>
<span class="sd">        close: The (optional) date the account was closed.</span>
<span class="sd">        directives: All directives associated with this account.</span>
<span class="sd">        name: The account name.</span>
<span class="sd">        open: The date the account was opened.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">balance</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Inventory</span><span class="p">]</span>
    <span class="n">close</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">date</span><span class="p">]</span>
    <span class="n">directives</span><span class="p">:</span> <span class="n">TxnPostings</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">open</span><span class="p">:</span> <span class="n">date</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Account</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Parses a beancount RealAccount into this model</span>

<span class="sd">        Args:</span>
<span class="sd">            obj: The Beancount RealAccount</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new instance of this model</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">txn_postings</span> <span class="o">=</span> <span class="n">TxnPostings</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">txn_postings</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="nb">open</span> <span class="o">=</span> <span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == &#39;Open&#39;]&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">open</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">open</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

        <span class="n">close</span> <span class="o">=</span> <span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == &#39;Close&#39;]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">close</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">close</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span>
            <span class="n">close_date</span> <span class="o">=</span> <span class="n">close</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">close_date</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">split</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">balance</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">split</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">Inventory</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Account</span><span class="p">(</span>
            <span class="n">balance</span><span class="o">=</span><span class="nb">map</span><span class="p">,</span>
            <span class="n">close</span><span class="o">=</span><span class="n">close_date</span><span class="p">,</span>
            <span class="n">directives</span><span class="o">=</span><span class="n">txn_postings</span><span class="p">,</span>
            <span class="nb">open</span><span class="o">=</span><span class="nb">open</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">account</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_real</span><span class="p">(</span><span class="n">ra</span><span class="p">:</span> <span class="n">RealAccount</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Account</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a new instance of `Account` using details from a</span>
<span class="sd">        [RealAccount][bdantic.models.realize.RealAccount].</span>

<span class="sd">        Args:</span>
<span class="sd">            ra: The RealAccount to use</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new instance of Account</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">open</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == `Open`]&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">open</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">open</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

        <span class="n">close</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == `Close`]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">close</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">close</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span>
            <span class="n">close_date</span> <span class="o">=</span> <span class="n">close</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">close_date</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">Account</span><span class="p">(</span>
            <span class="n">balance</span><span class="o">=</span><span class="n">ra</span><span class="o">.</span><span class="n">cur_map</span><span class="p">,</span>
            <span class="n">close</span><span class="o">=</span><span class="n">close_date</span><span class="p">,</span>
            <span class="n">directives</span><span class="o">=</span><span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span><span class="p">,</span>
            <span class="nb">open</span><span class="o">=</span><span class="nb">open</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">ra</span><span class="o">.</span><span class="n">account</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  <div class="doc doc-object doc-method">



<h3 id="bdantic.models.realize.Account.from_real" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_real</span><span class="p">(</span><span class="n">ra</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Creates a new instance of <code>Account</code> using details from a
<a href="#bdantic.models.realize.RealAccount">RealAccount</a>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ra</code></td>
        <td><code>RealAccount</code></td>
        <td><p>The RealAccount to use</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Account</code></td>
      <td><p>A new instance of Account</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">from_real</span><span class="p">(</span><span class="n">ra</span><span class="p">:</span> <span class="n">RealAccount</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Account</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a new instance of `Account` using details from a</span>
<span class="sd">    [RealAccount][bdantic.models.realize.RealAccount].</span>

<span class="sd">    Args:</span>
<span class="sd">        ra: The RealAccount to use</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new instance of Account</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">open</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == `Open`]&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">open</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">open</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="n">close</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == `Close`]&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">close</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">close</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span>
        <span class="n">close_date</span> <span class="o">=</span> <span class="n">close</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">close_date</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">Account</span><span class="p">(</span>
        <span class="n">balance</span><span class="o">=</span><span class="n">ra</span><span class="o">.</span><span class="n">cur_map</span><span class="p">,</span>
        <span class="n">close</span><span class="o">=</span><span class="n">close_date</span><span class="p">,</span>
        <span class="n">directives</span><span class="o">=</span><span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span><span class="p">,</span>
        <span class="nb">open</span><span class="o">=</span><span class="nb">open</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">ra</span><span class="o">.</span><span class="n">account</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="bdantic.models.realize.Account.parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Parses a beancount RealAccount into this model</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>realization.RealAccount</code></td>
        <td><p>The Beancount RealAccount</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Account</code></td>
      <td><p>A new instance of this model</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Account</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Parses a beancount RealAccount into this model</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The Beancount RealAccount</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new instance of this model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">txn_postings</span> <span class="o">=</span> <span class="n">TxnPostings</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">txn_postings</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="nb">open</span> <span class="o">=</span> <span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == &#39;Open&#39;]&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">open</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">open</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>

    <span class="n">close</span> <span class="o">=</span> <span class="n">txn_postings</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s2">&quot;[?ty == &#39;Close&#39;]&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">close</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">close</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span>
        <span class="n">close_date</span> <span class="o">=</span> <span class="n">close</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">close_date</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">split</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">balance</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">split</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">Inventory</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Account</span><span class="p">(</span>
        <span class="n">balance</span><span class="o">=</span><span class="nb">map</span><span class="p">,</span>
        <span class="n">close</span><span class="o">=</span><span class="n">close_date</span><span class="p">,</span>
        <span class="n">directives</span><span class="o">=</span><span class="n">txn_postings</span><span class="p">,</span>
        <span class="nb">open</span><span class="o">=</span><span class="nb">open</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">account</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="bdantic.models.realize.RealAccount" class="doc doc-heading">
        <code>
RealAccount            (<a title="bdantic.models.base.Base" href="../base/#bdantic.models.base.Base">Base</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents ">

      <p>A model representing a <code>beancount.core.realize.RealAccount</code>.</p>
<p>A <code>RealAccount</code> is represented as a dictionary in beancount which contains
additional attributes for describing details about the account. This model
matches those details, however, the dictinary representation of a
<code>RealAccount</code> is moved to the dedicated <code>children</code> field.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ty</code></td>
        <td><code>Literal[&#39;RealAccount&#39;]</code></td>
        <td><p>A string literal identifying this model.</p></td>
      </tr>
      <tr>
        <td><code>account</code></td>
        <td><code>str</code></td>
        <td><p>The account name.</p></td>
      </tr>
      <tr>
        <td><code>balance</code></td>
        <td><code>Inventory</code></td>
        <td><p>The balance of the account</p></td>
      </tr>
      <tr>
        <td><code>children</code></td>
        <td><code>Dict[str, bdantic.models.realize.RealAccount]</code></td>
        <td><p>All children that belong to this account.</p></td>
      </tr>
      <tr>
        <td><code>cur_map</code></td>
        <td><code>Dict[str, bdantic.models.data.Inventory]</code></td>
        <td><p>A map of currencies to their respective balances.</p></td>
      </tr>
      <tr>
        <td><code>txn_postings</code></td>
        <td><code>TxnPostings</code></td>
        <td><p>A list of directives in which this account appears.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RealAccount</span><span class="p">(</span><span class="n">Base</span><span class="p">,</span> <span class="n">smart_union</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A model representing a `beancount.core.realize.RealAccount`.</span>

<span class="sd">    A `RealAccount` is represented as a dictionary in beancount which contains</span>
<span class="sd">    additional attributes for describing details about the account. This model</span>
<span class="sd">    matches those details, however, the dictinary representation of a</span>
<span class="sd">    `RealAccount` is moved to the dedicated `children` field.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        ty: A string literal identifying this model.</span>
<span class="sd">        account: The account name.</span>
<span class="sd">        balance: The balance of the account</span>
<span class="sd">        children: All children that belong to this account.</span>
<span class="sd">        cur_map: A map of currencies to their respective balances.</span>
<span class="sd">        txn_postings: A list of directives in which this account appears.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ty</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;RealAccount&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;RealAccount&quot;</span>
    <span class="n">account</span><span class="p">:</span> <span class="n">AccountName</span>
    <span class="n">balance</span><span class="p">:</span> <span class="n">Inventory</span>
    <span class="n">children</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RealAccount</span><span class="p">]</span>
    <span class="n">cur_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Inventory</span><span class="p">]</span>
    <span class="n">txn_postings</span><span class="p">:</span> <span class="n">TxnPostings</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RealAccount</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Parses a beancount RealAccount into this model</span>

<span class="sd">        Args:</span>
<span class="sd">            obj: The Beancount RealAccount</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new instance of this model</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">children</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">RealAccount</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="n">split</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">balance</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">split</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">Inventory</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">RealAccount</span><span class="p">(</span>
            <span class="n">account</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">account</span><span class="p">,</span>
            <span class="n">balance</span><span class="o">=</span><span class="n">Inventory</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">balance</span><span class="p">),</span>
            <span class="n">children</span><span class="o">=</span><span class="n">children</span><span class="p">,</span>
            <span class="n">cur_map</span><span class="o">=</span><span class="nb">map</span><span class="p">,</span>
            <span class="n">txn_postings</span><span class="o">=</span><span class="n">TxnPostings</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">txn_postings</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Exports this model into a beancount RealAccount</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new instance of a beancount RealAccount</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ra</span> <span class="o">=</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">ra</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

        <span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">txn_postings</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
        <span class="n">ra</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">ra</span>

    <span class="k">def</span> <span class="nf">to_account</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Account</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Converts this RealAccount into an Account instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new Account instance</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Account</span><span class="o">.</span><span class="n">from_real</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-method">



<h3 id="bdantic.models.realize.RealAccount.export" class="doc doc-heading">
<code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Exports this model into a beancount RealAccount</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>realization.RealAccount</code></td>
      <td><p>A new instance of a beancount RealAccount</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Exports this model into a beancount RealAccount</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new instance of a beancount RealAccount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ra</span> <span class="o">=</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">ra</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

    <span class="n">ra</span><span class="o">.</span><span class="n">txn_postings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">txn_postings</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
    <span class="n">ra</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">ra</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="bdantic.models.realize.RealAccount.parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Parses a beancount RealAccount into this model</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>realization.RealAccount</code></td>
        <td><p>The Beancount RealAccount</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RealAccount</code></td>
      <td><p>A new instance of this model</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">realization</span><span class="o">.</span><span class="n">RealAccount</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RealAccount</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Parses a beancount RealAccount into this model</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The Beancount RealAccount</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new instance of this model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">children</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">RealAccount</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="n">split</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">balance</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="nb">map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">split</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">Inventory</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">RealAccount</span><span class="p">(</span>
        <span class="n">account</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">account</span><span class="p">,</span>
        <span class="n">balance</span><span class="o">=</span><span class="n">Inventory</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">balance</span><span class="p">),</span>
        <span class="n">children</span><span class="o">=</span><span class="n">children</span><span class="p">,</span>
        <span class="n">cur_map</span><span class="o">=</span><span class="nb">map</span><span class="p">,</span>
        <span class="n">txn_postings</span><span class="o">=</span><span class="n">TxnPostings</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">txn_postings</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="bdantic.models.realize.RealAccount.to_account" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_account</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Converts this RealAccount into an Account instance.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Account</code></td>
      <td><p>A new Account instance</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_account</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Account</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Converts this RealAccount into an Account instance.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new Account instance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Account</span><span class="o">.</span><span class="n">from_real</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="bdantic.models.realize.TxnPostings" class="doc doc-heading">
        <code>
TxnPostings            (<a title="bdantic.models.base.BaseList" href="../base/#bdantic.models.base.BaseList">BaseList</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents ">

      <p>A model representing the txnpostings found within RealAccount's.</p>

        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TxnPostings</span><span class="p">(</span><span class="n">BaseList</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A model representing the txnpostings found within RealAccount&#39;s.&quot;&quot;&quot;</span>

    <span class="n">__root__</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ModelTxnPosting</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">obj</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BeanTxnPosting</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TxnPostings</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TxnPostings</span><span class="p">(</span>
            <span class="n">__root__</span><span class="o">=</span><span class="p">[</span><span class="n">_type_map</span><span class="p">[</span><span class="nb">type</span><span class="p">(</span><span class="n">d</span><span class="p">)]</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BeanTxnPosting</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">export</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root__</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h3 id="bdantic.models.realize.TxnPostings.export" class="doc doc-heading">
<code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Exports this model into it's associated beancount type</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[BeanTxnPosting]</code></td>
      <td><p>A new instance of the beancount type</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BeanTxnPosting</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">export</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__root__</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="bdantic.models.realize.TxnPostings.parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Parses a beancount type into this model</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>List[BeanTxnPosting]</code></td>
        <td><p>The Beancount type to parse</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TxnPostings</code></td>
      <td><p>A new instance of this model</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>bdantic/models/realize.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">parse</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">obj</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BeanTxnPosting</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TxnPostings</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">TxnPostings</span><span class="p">(</span>
        <span class="n">__root__</span><span class="o">=</span><span class="p">[</span><span class="n">_type_map</span><span class="p">[</span><span class="nb">type</span><span class="p">(</span><span class="n">d</span><span class="p">)]</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../query/" class="md-footer__link md-footer__link--prev" aria-label="Previous: query" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              query
            </div>
          </div>
        </a>
      
      
        
        <a href="../../parse/" class="md-footer__link md-footer__link--next" aria-label="Next: parse" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              parse
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
    
  </body>
</html>